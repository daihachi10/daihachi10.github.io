<script src="./script.js"></script>
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
<link rel="stylesheet" href="../css/common.css" />

<style>
    .search-box {
        text-align: center;
        margin:0px 0 10px 0;
    }

  #searchQuery {
    padding: 10px;
    font-size: 16px;
    border: 1.2px solid #ccc;
    border-radius: 10px;
    width: 60vw;
    height: 25px;
  }
</style>

<div class="header-inner">
  <a
    data-aos="fade-down"
    data-aos-delay="200"
    class="header-logo"
    href="https://daihachi10.github.io/"
  >
    <img
      src="https://daihachi10.github.io/assets/img/logo.webp"
      alt="logo"
      style="
        width: 35px;
        height: 35px;
        vertical-align: bottom;
        margin-bottom: 5px;
        margin-right: 1px;
      "
    /><span class="logo-text" style="font-size: 30px; font-weight: bold"
      >aihachi</span
    >
  </a>
  <button class="toggle-menu-button"></button>
  <div class="header-site-menu">
    <nav class="site-menu">
      <ul>
        <li data-aos="fade-down" data-aos-delay="600">
          <a href="https://daihachi10.github.io/install.html">INSTALL APP</a>
        </li>
        <li data-aos="fade-down" data-aos-delay="750">
          <a href="https://daihachi10.github.io/program.html">MY PROGRAM</a>
        </li>
        <!-- <li data-aos="fade-down" data-aos-delay="900"><a
                        href="https://daihachi10.github.io/en.html">ENGLISH</a></li> -->
        <li data-aos="fade-down" data-aos-delay="1050">
          <a onclick="openColorPicker()"
            ><span class="color" id="colorchange">COLOR CHANGE</span></a
          >
        </li>

        <li data-aos="fade-down" data-aos-delay="1200">
          <a href="https://daihachi10.github.io/account/"
            ><span class="username">LOGIN / SIGNUP</span></a
          >
        </li>
      </ul>
    </nav>
  </div>
</div>
<div class="search-box" data-aos="fade-down" data-aos-delay="1400">
  <a
    href="https://daihachi10.github.io/search/"
    style="padding-left: 5px; max-width: 1200px"
    >search</a
  >
  <input type="text" id="searchQuery" name="searchQuery"/>
</div>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  window.onload = function () {
    AOS.init();

    const params = new URLSearchParams(window.location.search);
    const urlUser = params.get("user");
    let user = null;
    user = localStorage.getItem("user");
    if (user) {
      const usernameElements = document.querySelectorAll("span.username");
      usernameElements.forEach(function (element) {
        element.textContent = "Hi " + user + "!";
      });
    }
  };

  function goToSearchPage() {
    // テキストボックスの値を取得
    var query = document.getElementById("searchQuery").value;

    // 値が空でないか確認
    if (query.trim() !== "") {
      // 新しいURLを生成
      var newUrl =
        "https://daihachi10.github.io/search/result.html?query=" +
        encodeURIComponent(query);

      // 新しいURLに移動
      window.location.href = newUrl;
    } else {
      alert("検索する文字を入力してください。"); // 空の場合は警告を表示
    }
  }

  // Enterキーが押された時の処理
  document
    .getElementById("searchQuery")
    .addEventListener("keypress", function (event) {
      if (event.key === "Enter") {
        goToSearchPage(); // 検索ページへ移動する関数を呼び出す
      }
    });
</script>
