const CACHE_NAME='roulette-audio-v1';const audioUrlsToCache=['./sounds/card_flip.mp3','./sounds/roulette_result.mp3','./sounds/roulette_tick.mp3','./sounds/simple_result.mp3','./sounds/simple_tick.mp3','./sounds/spin.wav'];self.addEventListener('install',(event)=>{event.waitUntil(caches.open(CACHE_NAME).then((cache)=>{console.log('Audio files cached');return cache.addAll(audioUrlsToCache)}))});self.addEventListener('fetch',(event)=>{if(!event.request.url.startsWith('http')){return} event.respondWith(caches.match(event.request).then((response)=>{if(response){return response} return fetch(event.request).catch((err)=>{console.warn('Network fetch failed (likely blocked or offline):',event.request.url)})}))});self.addEventListener('activate',(event)=>{const cacheWhitelist=[CACHE_NAME];event.waitUntil(caches.keys().then((cacheNames)=>{return Promise.all(cacheNames.map((cacheName)=>{if(cacheWhitelist.indexOf(cacheName)===-1){return caches.delete(cacheName)}}))}))})